<div ng-if="rubedo.current.user" ng-controller="uploadXlsController as ctrl">
    Ici tu peux uploader un fichier Excel d'export généré à partir de pointsnet.ccn pour mettre à joru tous les points net sur Rubedo.
    <input type="file" id="file" name="file"/>
    <button ng-click="uploadXLS()">
        <span ng-if="loading">...</span>
        <span ng-if="!loading">Upload XLS file</span>
    </button>

    <div class="pn_compare">
        <div class="pn_container onesime_pn">
            <select name="onesime_pn" ng-model="current_pn_id" ng-change="loadPN()">
                <option ng-repeat="pn in onesime_pns" ng-value="pn['Code PN']">{{pn['Code PN']}}</option>
            </select>
            <table class="pn_fiche onesime_pn_fiche" ng-if="current_pn_id">
                <tr ng-repeat="(key, value) in current_o_pn">
                    <td>{{key}}</td>
                    <td>{{value}}</td>
                </tr>
            </table>
        </div>

        <div class="pn_container rubedo_pn">
            <select name="rubedo_pn" ng-model="current_pn_id" ng-change="loadPN()">
                <option ng-repeat="pn in rubedo_pns" ng-value="pn.fields.pointNetId">{{pn.fields.pointNetId}}</option>
            </select>
            <table class="pn_fiche rubedo_pn_fiche" ng-if="current_pn_id">
                <tr ng-repeat="(key, value) in current_r_pn">
                    <td>{{key}}</td>
                    <td>{{value}}</td>
                </tr>
            </table>
        </div>
    </div>

    <div class="logs">
        <div ng-repeat="el in ctrl.logs">
            {{el.level}} {{el.msg}}
        </div>
    </div>
</div>

<style>
.pn_compare {
    display: flex;
    justify-content: center;
}
.pn_container {
    width: 50%;
    padding: 1rem;
}
</style>