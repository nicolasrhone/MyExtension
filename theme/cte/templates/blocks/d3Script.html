<div ng-controller="D3ScriptController as d3ScriptCtrl">
    <img src="/theme/cte/img/loader.gif" ng-if="d3ScriptCtrl.loading">
    <div class="container">
        <div class="button rouge hidden-xs" data-toggle="modal" data-target="#countryListModal">
            <i class="fa fa-list" aria-hidden="true" ></i>
        </div>
    </div>
    <ng-include src="d3ScriptCtrl.ccnMap" class="hidden-xs"></ng-include>
    <div class="visible-xs-block regions-list">
        <h3>{{rubedo.translate("Block.Carte.Presence.Perm","Pays où la Communauté assuez une présence permanente")}}</h3>
        <ul>
            <li ng-repeat="country in d3ScriptCtrl.results | filter: { presence: 'present' } | orderBy:'title'">
                <a ng-href="{{country['fields.url'][0]}}" target="_blank">{{country.title}}</a>
            </li>
        </ul>
        <h3>{{rubedo.translate("Block.Carte.Presence.Ponct","Pays où la Communauté assuez une présence ponctuelle")}}</h3>
        <ul>
            <li ng-repeat="country in d3ScriptCtrl.results | filter: { presence: 'active' } | orderBy:'title'">
                <a ng-href="{{country['fields.url'][0]}}" target="_blank">{{country.title}}</a>
            </li>
        </ul>
    </div>
    <div class="modal fade" id="countryListModal" tabindex="-1" role="dialog" aria-labelledby="countryListModal" aria-hidden="false">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only ng-binding">{{rubedo.translate("Label.Close","Close")}}</span></button>
                        <h4 class="modal-title ng-binding" id="countryListModalLAbel">Liste des pays</h4>
                    </div>
                    <div class="modal-body">
                        <h3>{{rubedo.translate("Block.Carte.Presence.Perm","Pays où la Communauté assuez une présence permanente")}}</h3>
                            <ul>
                                <li ng-repeat="country in d3ScriptCtrl.results | filter: { presence: 'present' } | orderBy:'title'">
                                    <a ng-href="{{country['fields.url'][0]}}" target="_blank">{{country.title}}</a>
                                </li>
                            </ul>
                            <h3>{{rubedo.translate("Block.Carte.Presence.Ponct","Pays où la Communauté assuez une présence ponctuelle")}}</h3>
                            <ul>
                                <li ng-repeat="country in d3ScriptCtrl.results | filter: { presence: 'active' } | orderBy:'title'">
                                    <a ng-href="{{country['fields.url'][0]}}" target="_blank">{{country.title}}</a>
                                </li>
                            </ul>
                        
                    </div>

                </div>
            </div>
        </div>
</div>